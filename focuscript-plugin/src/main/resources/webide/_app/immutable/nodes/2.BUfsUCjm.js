import{b as Ja,d as qr,a as fe,f as ve}from"../chunks/P0gCNT_A.js";import"../chunks/C8ztGGjs.js";import{w as Ct,g as Ta,d as or,c as lr,o as zr,a as Jr}from"../chunks/D_MtdXbD.js";import{x as la,O as Yr,aO as cr,m as ce,F as Ut,z as pt,n as ha,g as e,Q as Gr,R as Zr,S as Ya,U as ca,C as rt,ag as dr,aI as Xr,as as Ga,H as We,aP as je,L as ga,N as Qr,a8 as en,v as ur,aG as Sa,aQ as tn,aR as an,Z as U,af as Za,aS as rn,I as fr,K as vr,aT as da,X as pr,aU as nn,aV as sn,aF as on,J as ln,aC as mr,t as ae,y as cn,aW as dn,aJ as un,aD as fn,aX as _r,V as vn,$ as pn,aY as mn,aZ as _n,a_ as br,a$ as bn,b0 as hn,b1 as gn,b2 as kn,b3 as yn,aL as wn,b as _,W as Tn,p as Ea,b4 as He,b5 as Aa,j as Ia,e as hr,s as g,k as d,_ as m,l,i as gr,b6 as nt,b7 as ua,b8 as Sn}from"../chunks/AJ__dmnR.js";import{e as x,s as S}from"../chunks/CtHei6Hn.js";import{p as ka,s as La,a as $e,b as ya,i as fa,c as Xa}from"../chunks/BP7wbDEi.js";import{i as Ma}from"../chunks/CLzmaFkB.js";function Xe(t,a){return a}function En(t,a,r){for(var i=[],s=a.length,o,u=a.length,f=0;f<s;f++){let T=a[f];vr(T,()=>{if(o){if(o.pending.delete(T),o.done.add(T),o.pending.size===0){var A=t.outrogroups;wa(Sa(o.done)),A.delete(o),A.size===0&&(t.outrogroups=null)}}else u-=1},!1)}if(u===0){var n=i.length===0&&r!==null;if(n){var k=r,y=k.parentNode;on(y),y.append(k),t.items.clear()}wa(a,!n)}else o={pending:new Set(a),done:new Set},(t.outrogroups??=new Set).add(o)}function wa(t,a=!0){for(var r=0;r<t.length;r++)ln(t[r],a)}var Qa;function Qe(t,a,r,i,s,o=null){var u=t,f=new Map,n=(a&cr)!==0;if(n){var k=t;u=ce?Ut(pt(k)):k.appendChild(la())}ce&&ha();var y=null,T=en(()=>{var M=r();return ur(M)?M:M==null?[]:Sa(M)}),A,L=!0;function Z(){p.fallback=y,An(p,A,u,a,i),y!==null&&(A.length===0?(y.f&je)===0?fr(y):(y.f^=je,mt(y,null,u)):vr(y,()=>{y=null}))}var v=Yr(()=>{A=e(T);var M=A.length;let ie=!1;if(ce){var D=Gr(u)===Zr;D!==(M===0)&&(u=Ya(),Ut(u),ca(!1),ie=!0)}for(var W=new Set,J=We,X=Qr(),C=0;C<M;C+=1){ce&&rt.nodeType===dr&&rt.data===Xr&&(u=rt,ie=!0,ca(!1));var de=A[C],Q=i(de,C),N=L?null:f.get(Q);N?(N.v&&Ga(N.v,de),N.i&&Ga(N.i,C),X&&J.unskip_effect(N.e)):(N=In(f,L?u:Qa??=la(),de,Q,C,s,a,r),L||(N.e.f|=je),f.set(Q,N)),W.add(Q)}if(M===0&&o&&!y&&(L?y=ga(()=>o(u)):(y=ga(()=>o(Qa??=la())),y.f|=je)),ce&&M>0&&Ut(Ya()),!L)if(X){for(const[F,re]of f)W.has(F)||J.skip_effect(re.e);J.oncommit(Z),J.ondiscard(()=>{})}else Z();ie&&ca(!0),e(T)}),p={effect:v,items:f,outrogroups:null,fallback:y};L=!1,ce&&(u=rt)}function vt(t){for(;t!==null&&(t.f&nn)===0;)t=t.next;return t}function An(t,a,r,i,s){var o=(i&sn)!==0,u=a.length,f=t.items,n=vt(t.effect.first),k,y=null,T,A=[],L=[],Z,v,p,M;if(o)for(M=0;M<u;M+=1)Z=a[M],v=s(Z,M),p=f.get(v).e,(p.f&je)===0&&(p.nodes?.a?.measure(),(T??=new Set).add(p));for(M=0;M<u;M+=1){if(Z=a[M],v=s(Z,M),p=f.get(v).e,t.outrogroups!==null)for(const N of t.outrogroups)N.pending.delete(p),N.done.delete(p);if((p.f&je)!==0)if(p.f^=je,p===n)mt(p,null,r);else{var ie=y?y.next:n;p===t.effect.last&&(t.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Ye(t,y,p),Ye(t,p,ie),mt(p,ie,r),y=p,A=[],L=[],n=vt(y.next);continue}if((p.f&da)!==0&&(fr(p),o&&(p.nodes?.a?.unfix(),(T??=new Set).delete(p))),p!==n){if(k!==void 0&&k.has(p)){if(A.length<L.length){var D=L[0],W;y=D.prev;var J=A[0],X=A[A.length-1];for(W=0;W<A.length;W+=1)mt(A[W],D,r);for(W=0;W<L.length;W+=1)k.delete(L[W]);Ye(t,J.prev,X.next),Ye(t,y,J),Ye(t,X,D),n=D,y=X,M-=1,A=[],L=[]}else k.delete(p),mt(p,n,r),Ye(t,p.prev,p.next),Ye(t,p,y===null?t.effect.first:y.next),Ye(t,y,p),y=p;continue}for(A=[],L=[];n!==null&&n!==p;)(k??=new Set).add(n),L.push(n),n=vt(n.next);if(n===null)continue}(p.f&je)===0&&A.push(p),y=p,n=vt(p.next)}if(t.outrogroups!==null){for(const N of t.outrogroups)N.pending.size===0&&(wa(Sa(N.done)),t.outrogroups?.delete(N));t.outrogroups.size===0&&(t.outrogroups=null)}if(n!==null||k!==void 0){var C=[];if(k!==void 0)for(p of k)(p.f&da)===0&&C.push(p);for(;n!==null;)(n.f&da)===0&&n!==t.fallback&&C.push(n),n=vt(n.next);var de=C.length;if(de>0){var Q=(i&cr)!==0&&u===0?r:null;if(o){for(M=0;M<de;M+=1)C[M].nodes?.a?.measure();for(M=0;M<de;M+=1)C[M].nodes?.a?.fix()}En(t,C,Q)}}o&&pr(()=>{if(T!==void 0)for(p of T)p.nodes?.a?.apply()})}function In(t,a,r,i,s,o,u,f){var n=(u&tn)!==0?(u&an)===0?U(r,!1,!1):Za(r):null,k=(u&rn)!==0?Za(s):null;return{v:n,i:k,e:ga(()=>(o(a,n??r,k??s,f),()=>{t.delete(i)}))}}function mt(t,a,r){if(t.nodes)for(var i=t.nodes.start,s=t.nodes.end,o=a&&(a.f&je)===0?a.nodes.start:r;i!==null;){var u=mr(i);if(o.before(i),i===s)return;i=u}}function Ye(t,a,r){a===null?t.effect.first=r:a.next=r,r===null?t.effect.last=a:r.prev=a}function er(t,a,r=!1,i=!1,s=!1){var o=t,u="";ae(()=>{var f=cn;if(u===(u=a()??"")){ce&&ha();return}if(f.nodes!==null&&(dn(f.nodes.start,f.nodes.end),f.nodes=null),u!==""){if(ce){rt.data;for(var n=ha(),k=n;n!==null&&(n.nodeType!==dr||n.data!=="");)k=n,n=mr(n);if(n===null)throw un(),fn;Ja(rt,k),o=Ut(n);return}var y=u+"";r?y=`<svg>${y}</svg>`:i&&(y=`<math>${y}</math>`);var T=qr(y);if((r||i)&&(T=pt(T)),Ja(pt(T),T.lastChild),r||i)for(;pt(T);)o.before(pt(T));else o.before(T)}})}const tr=[...` 	
\r\fÂ \v\uFEFF`];function Ln(t,a,r){var i=t==null?"":""+t;if(a&&(i=i?i+" "+a:a),r){for(var s in r)if(r[s])i=i?i+" "+s:s;else if(i.length)for(var o=s.length,u=0;(u=i.indexOf(s,u))>=0;){var f=u+o;(u===0||tr.includes(i[u-1]))&&(f===i.length||tr.includes(i[f]))?i=(u===0?"":i.substring(0,u))+i.substring(f+1):u=f}}return i===""?null:i}function ar(t,a=!1){var r=a?" !important;":";",i="";for(var s in t){var o=t[s];o!=null&&o!==""&&(i+=" "+s+": "+o+r)}return i}function Mn(t,a){if(a){var r="",i,s;return Array.isArray(a)?(i=a[0],s=a[1]):i=a,i&&(r+=ar(i)),s&&(r+=ar(s,!0)),r=r.trim(),r===""?null:r}return String(t)}function ht(t,a,r,i,s,o){var u=t.__className;if(ce||u!==r||u===void 0){var f=Ln(r,i,o);(!ce||f!==t.getAttribute("class"))&&(f==null?t.removeAttribute("class"):t.className=f),t.__className=r}else if(o&&s!==o)for(var n in o){var k=!!o[n];(s==null||k!==!!s[n])&&t.classList.toggle(n,k)}return o}function va(t,a={},r,i){for(var s in r){var o=r[s];a[s]!==o&&(r[s]==null?t.style.removeProperty(s):t.style.setProperty(s,o,i))}}function _t(t,a,r,i){var s=t.__style;if(ce||s!==a){var o=Mn(a,i);(!ce||o!==t.getAttribute("style"))&&(o==null?t.removeAttribute("style"):t.style.cssText=o),t.__style=a}else i&&(Array.isArray(i)?(va(t,r?.[0],i[0]),va(t,r?.[1],i[1],"important")):va(t,r,i));return i}function kr(t,a,r=!1){if(t.multiple){if(a==null)return;if(!ur(a))return mn();for(var i of t.options)i.selected=a.includes(bt(i));return}for(i of t.options){var s=bt(i);if(_n(s,a)){i.selected=!0;return}}(!r||a!==void 0)&&(t.selectedIndex=-1)}function xn(t){var a=new MutationObserver(()=>{kr(t,t.__value)});a.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),pn(()=>{a.disconnect()})}function pa(t,a,r=a){var i=new WeakSet,s=!0;_r(t,"change",o=>{var u=o?"[selected]":":checked",f;if(t.multiple)f=[].map.call(t.querySelectorAll(u),bt);else{var n=t.querySelector(u)??t.querySelector("option:not([disabled])");f=n&&bt(n)}r(f),We!==null&&i.add(We)}),vn(()=>{var o=a();if(t===document.activeElement){var u=br??We;if(i.has(u))return}if(kr(t,o,s),s&&o===void 0){var f=t.querySelector(":checked");f!==null&&(o=bt(f),r(o))}t.__value=o,s=!1}),xn(t)}function bt(t){return"__value"in t?t.__value:t.value}const $n=Symbol("is custom element"),Rn=Symbol("is html");function Ze(t){if(ce){var a=!1,r=()=>{if(!a){if(a=!0,t.hasAttribute("value")){var i=t.value;Re(t,"value",null),t.value=i}if(t.hasAttribute("checked")){var s=t.checked;Re(t,"checked",null),t.checked=s}}};t.__on_r=r,pr(r),yn()}}function rr(t,a){var r=yr(t);r.value===(r.value=a??void 0)||t.value===a&&(a!==0||t.nodeName!=="PROGRESS")||(t.value=a??"")}function Re(t,a,r,i){var s=yr(t);ce&&(s[a]=t.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&t.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="loading"&&(t[bn]=r),r==null?t.removeAttribute(a):typeof r!="string"&&Un(t).includes(a)?t[a]=r:t.setAttribute(a,r))}function yr(t){return t.__attributes??={[$n]:t.nodeName.includes("-"),[Rn]:t.namespaceURI===hn}}var nr=new Map;function Un(t){var a=t.getAttribute("is")||t.nodeName,r=nr.get(a);if(r)return r;nr.set(a,r=[]);for(var i,s=t,o=Element.prototype;o!==s;){i=kn(s);for(var u in i)i[u].set&&r.push(u);s=gn(s)}return r}function it(t,a,r=a){var i=new WeakSet;_r(t,"input",async s=>{var o=s?t.defaultValue:t.value;if(o=ma(t)?_a(o):o,r(o),We!==null&&i.add(We),await wn(),o!==(o=a())){var u=t.selectionStart,f=t.selectionEnd,n=t.value.length;if(t.value=o??"",f!==null){var k=t.value.length;u===f&&f===n&&k>n?(t.selectionStart=k,t.selectionEnd=k):(t.selectionStart=u,t.selectionEnd=Math.min(f,k))}}}),(ce&&t.defaultValue!==t.value||_(a)==null&&t.value)&&(r(ma(t)?_a(t.value):t.value),We!==null&&i.add(We)),Tn(()=>{var s=a();if(t===document.activeElement){var o=br??We;if(i.has(o))return}ma(t)&&s===_a(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function ma(t){var a=t.type;return a==="number"||a==="range"}function _a(t){return t===""?null:+t}const wr="focuscript_webide_baseUrl_v1";function Bt(){return typeof window>"u"?"":window.location.origin.replace(/\/+$/,"")}function Bn(t){const a=t.replace(/\/+$/,"");return/\/api$/i.test(a)?a.slice(0,-4):a}function yt(t){const a=Bn((t||"").trim());return a||Bt()}function Cn(){if(typeof localStorage>"u")return Bt();const t=localStorage.getItem(wr);return t===null?Bt():yt(t)}const Nt=Ct(Cn());Nt.subscribe(t=>{try{localStorage.setItem(wr,yt(t))}catch{}});function Nn(){return Bt()}function ir(t){Nt.set(yt(t))}function Fn(){return yt(Ta(Nt))}function Dn(t){const a=t.replace(/\/+$/,"");return a?`${a}/api`:"/api"}function On(t={}){const a={};for(const[r,i]of Object.entries(t))i!=null&&(a[r]=String(i));return a}function xa(t,a,r={}){const i=Dn(Fn()),s=`/${String(t||"").replace(/^\/+/,"")}`,o=On(r);a&&!("token"in o)&&(o.token=a);const u=new URLSearchParams(o),f=u.toString()?`?${u.toString()}`:"";return`${i}${s}${f}`}async function wt(t,a,r={},i=fetch){const s=await i(xa(t,a,r));if(!s.ok)throw new Error(await s.text());return await s.json()}async function Pn(t,a,r={},i=fetch){const s=await i(xa(t,a,r));if(!s.ok)throw new Error(await s.text());return await s.text()}async function Tt(t,a,r={},i="",s=fetch){const o=await s(xa(t,a,r),{method:"POST",body:i});if(!o.ok)throw new Error(await o.text());return await o.json()}function j(t){return(t??"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")}function Kn(t){const a=(t||"").toLowerCase();return a.endsWith(".yml")||a.endsWith(".yaml")?"yaml":a.endsWith(".fs")||a.endsWith(".kt")||a.endsWith(".kts")?"kotlin":"plain"}const Wn=new Set(["package","import","class","object","interface","fun","val","var","if","else","when","for","while","do","return","break","continue","try","catch","finally","throw","in","is","as","this","super","typealias","sealed","data","enum","override","public","private","protected","internal","open","abstract","final","companion","inline","noinline","crossinline","reified","suspend","operator","infix","tailrec","vararg","const","lateinit","where","get","set","by","constructor","init","module","onDisable"]),jn=new Set(["Int","Long","Double","Float","Boolean","String","Unit","Any","Nothing","List","Map","Set"]);function Hn(t){return j(t)}function Vn(t){let a=0,r="";const i=t.length,s=f=>/[A-Za-z_]/.test(f),o=f=>/[A-Za-z0-9_]/.test(f),u=f=>/[0-9]/.test(f);for(;a<i;){const f=t[a];if(f==="/"&&t[a+1]==="/"){let n=a+2;for(;n<i&&t[n]!==`
`;)n++;r+='<span class="tok-com">'+j(t.slice(a,n))+"</span>",a=n;continue}if(f==="/"&&t[a+1]==="*"){let n=a+2;for(;n<i&&!(t[n]==="*"&&t[n+1]==="/");)n++;n=Math.min(i,n+2),r+='<span class="tok-com">'+j(t.slice(a,n))+"</span>",a=n;continue}if(f==='"'&&t[a+1]==='"'&&t[a+2]==='"'){let n=a+3;for(;n<i&&!(t[n]==='"'&&t[n+1]==='"'&&t[n+2]==='"');)n++;n=Math.min(i,n+3),r+='<span class="tok-str">'+j(t.slice(a,n))+"</span>",a=n;continue}if(f==='"'){let n=a+1;for(;n<i;){if(t[n]==="\\"){n+=2;continue}if(t[n]==='"'){n++;break}n++}r+='<span class="tok-str">'+j(t.slice(a,n))+"</span>",a=n;continue}if(f==="'"){let n=a+1;for(;n<i;){if(t[n]==="\\"){n+=2;continue}if(t[n]==="'"){n++;break}n++}r+='<span class="tok-str">'+j(t.slice(a,n))+"</span>",a=n;continue}if(f==="@"){let n=a+1;for(;n<i&&o(t[n]);)n++;r+='<span class="tok-ann">'+j(t.slice(a,n))+"</span>",a=n;continue}if(u(f)){let n=a+1;for(;n<i&&/[0-9_]/.test(t[n]);)n++;if(t[n]==="."&&u(t[n+1]))for(n++;n<i&&/[0-9_]/.test(t[n]);)n++;r+='<span class="tok-num">'+j(t.slice(a,n))+"</span>",a=n;continue}if(s(f)){let n=a+1;for(;n<i&&o(t[n]);)n++;const k=t.slice(a,n);Wn.has(k)||k==="true"||k==="false"||k==="null"?r+='<span class="tok-kw">'+j(k)+"</span>":jn.has(k)||/^[A-Z]/.test(k)?r+='<span class="tok-type">'+j(k)+"</span>":r+=j(k),a=n;continue}if("{}()[];,.".includes(f)){r+='<span class="tok-op">'+j(f)+"</span>",a++;continue}r+=j(f),a++}return r}function qn(t){let a=0,r="";const i=t.length,s=f=>/[A-Za-z0-9_.-]/.test(f),o=f=>/[0-9]/.test(f);let u=!0;for(;a<i;){const f=t[a];if(f===`
`){r+=`
`,a++,u=!0;continue}if(f==="#"){let n=a+1;for(;n<i&&t[n]!==`
`;)n++;r+='<span class="tok-com">'+j(t.slice(a,n))+"</span>",a=n,u=!1;continue}if(f==='"'||f==="'"){const n=f;let k=a+1;for(;k<i;){if(t[k]==="\\"){k+=2;continue}if(t[k]===n){k++;break}k++}r+='<span class="tok-str">'+j(t.slice(a,k))+"</span>",a=k,u=!1;continue}if(u){let n=a;for(;n<i&&(t[n]===" "||t[n]==="	");)n++;if(r+=j(t.slice(a,n)),a=n,t[a]==="-"){r+='<span class="tok-op">-</span>',a++;let y=a;for(;y<i&&(t[y]===" "||t[y]==="	");)y++;r+=j(t.slice(a,y)),a=y}let k=a;for(;k<i&&s(t[k]);)k++;if(k>a&&t[k]===":"){r+='<span class="tok-key">'+j(t.slice(a,k))+"</span>",r+='<span class="tok-op">:</span>',a=k+1,u=!1;continue}}if(o(f)){let n=a+1;for(;n<i&&/[0-9_]/.test(t[n]);)n++;if(t[n]==="."&&o(t[n+1]))for(n++;n<i&&/[0-9_]/.test(t[n]);)n++;r+='<span class="tok-num">'+j(t.slice(a,n))+"</span>",a=n,u=!1;continue}if(/[A-Za-z]/.test(f)){let n=a+1;for(;n<i&&/[A-Za-z0-9_-]/.test(t[n]);)n++;const k=t.slice(a,n);k==="true"||k==="false"||k==="null"?r+='<span class="tok-kw">'+j(k)+"</span>":r+=j(k),a=n,u=!1;continue}r+=j(f),a++,u=!1}return r}function zn(t,a){return a==="kotlin"?Vn(t):a==="yaml"?qn(t):Hn(t)}const Tr="focuscript_webide_lang_v1";function Jn(){if(typeof localStorage>"u")return"ko";const t=localStorage.getItem(Tr);return t==="en"||t==="ko"?t:"ko"}const gt=Ct(Jn());gt.subscribe(t=>{try{localStorage.setItem(Tr,t)}catch{}});const ba={en:{appTitle:"Focuscript Web IDE",connecting:"Connectingâ€¦",missingToken:"Missing token. Open this page using the URL printed by /fs webide.",failedToConnect:"Failed to connect. Check token and server logs.",statusRunning:"Running (v{version}) â€¢ loadedModules={loaded} â€¢ {bind}:{port}",workspace:"Workspace",newModule:"New Module",refresh:"Refresh",api:"API",reloadModule:"Reload Module",reloadAll:"Reload All",save:"Save",saved:"Saved.",files:"Files",newFile:"New",fileSearchPlaceholder:"Filterâ€¦",noFileSelected:"No file selected",unsavedDot:"â— unsaved",notes:"Notes",note1:"The server prints a URL with a token. Keep it private.",note2:"The token is part of the link. Treat the full URL as a secret.",note3:"Typical flow: edit â†’ Save â†’ Reload Module.",note4:"Compilation happens asynchronously inside Focuscript.",language:"Language",baseUrl:"Base URL",baseUrlPlaceholder:"https://host.example.com",setBaseUrl:"Set Base",resetBaseUrl:"Default",baseUrlUpdated:"Base URL updated: {url}",baseUrlReset:"Base URL reset to default: {url}",theme:"Theme",manageThemes:"Manageâ€¦",sidebarToggle:"Sidebar",confirmDiscardOpen:"You have unsaved changes. Discard and open another file?",confirmDiscardSwitchWs:"You have unsaved changes. Discard and switch workspace?",confirmReloadAll:"Reload ALL modules? This disables all modules, then queues recompilation.",confirmDeleteTheme:'Delete theme "{id}"?',alertSaveBeforeReload:"Please save before reloading.",promptNewFilePath:`New file path (relative to workspace root).
Example: src/new.fs`,promptNewModuleId:`New module id (letters/numbers/._-)
Example: my_module`,promptModuleDisplayName:"Module display name",promptModuleVersion:"Module version",confirmLoadEnable:`Set load: enable ?

(If NO: it will be created with load: disable, and won't auto-load on restart until you change it.)`,createdModule:"Created module: {id}",apiTitle:"Focuscript API (from _runtime/focuscript-api.jar)",apiSearchPlaceholder:"Search classâ€¦",close:"Close",loadingApiIndex:"Loading API indexâ€¦",selectClassToView:"Select a class to view members.",fields:"FIELDS",methods:"METHODS",themeManagerTitle:"Theme Manager",builtInThemes:"Built-in",customThemes:"Custom",createTheme:"New theme",edit:"Edit",delete:"Delete",export:"Export",import:"Import",themeName:"Theme name",themeId:"Theme id",duplicateFromCurrent:"Duplicate from current",cancel:"Cancel",saveTheme:"Save theme",apply:"Apply",importError:"Invalid theme file.",v_bg:"Background",v_panel:"Top bar / Panels",v_panel2:"Sidebar / Surface",v_border:"Border",v_text:"Text",v_muted:"Muted",v_accent:"Accent",v_danger:"Danger",v_input:"Input background",v_editorBg:"Editor background",v_sel:"Selection",v_tok_kw:"Keyword",v_tok_type:"Type",v_tok_num:"Number",v_tok_str:"String",v_tok_com:"Comment",v_tok_ann:"Annotation",v_tok_key:"YAML key",v_tok_op:"Punctuation"},ko:{appTitle:"í¬ì»¤ìŠ¤í¬ë¦½íŠ¸ Web IDE",connecting:"ì—°ê²° ì¤‘â€¦",missingToken:"í† í°ì´ ì—†ìŠµë‹ˆë‹¤. /fs webide ê°€ ì¶œë ¥í•œ URLë¡œ ì ‘ì†í•´ ì£¼ì„¸ìš”.",failedToConnect:"ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í† í°ê³¼ ì„œë²„ ë¡œê·¸ë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.",statusRunning:"ì‹¤í–‰ ì¤‘ (v{version}) â€¢ loadedModules={loaded} â€¢ {bind}:{port}",workspace:"ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤",newModule:"ìƒˆ ëª¨ë“ˆ",refresh:"ìƒˆë¡œê³ ì¹¨",api:"API",reloadModule:"ëª¨ë“ˆ ë¦¬ë¡œë“œ",reloadAll:"ì „ì²´ ë¦¬ë¡œë“œ",save:"ì €ìž¥",saved:"ì €ìž¥ ì™„ë£Œ!",files:"íŒŒì¼",newFile:"ìƒˆ íŒŒì¼",fileSearchPlaceholder:"í•„í„°â€¦",noFileSelected:"ì„ íƒëœ íŒŒì¼ ì—†ìŒ",unsavedDot:"â— ë¯¸ì €ìž¥",notes:"ë©”ëª¨",note1:"ì„œë²„ê°€ í† í°ì´ í¬í•¨ëœ URLì„ ì¶œë ¥í•©ë‹ˆë‹¤. ì™¸ë¶€ì— ê³µìœ í•˜ì§€ ë§ˆì„¸ìš”.",note2:"í† í°ì€ ë§í¬ì— í¬í•¨ë˜ì–´ ìžˆìŠµë‹ˆë‹¤. URL ì „ì²´ë¥¼ ë¹„ë°€ë¡œ ì·¨ê¸‰í•˜ì„¸ìš”.",note3:"ì¼ë°˜ íë¦„: íŽ¸ì§‘ â†’ ì €ìž¥ â†’ ëª¨ë“ˆ ë¦¬ë¡œë“œ.",note4:"ì»´íŒŒì¼ì€ Focuscript ë‚´ë¶€ì—ì„œ ë¹„ë™ê¸°ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.",language:"ì–¸ì–´",baseUrl:"Base URL",baseUrlPlaceholder:"https://host.example.com",setBaseUrl:"ì ìš©",resetBaseUrl:"ê¸°ë³¸ê°’",baseUrlUpdated:"Base URL ë³€ê²½ë¨: {url}",baseUrlReset:"Base URL ê¸°ë³¸ê°’ìœ¼ë¡œ ë³µì›: {url}",theme:"í…Œë§ˆ",manageThemes:"ê´€ë¦¬â€¦",sidebarToggle:"ì‚¬ì´ë“œë°”",confirmDiscardOpen:"ì €ìž¥í•˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ì´ ìžˆìŠµë‹ˆë‹¤. ë²„ë¦¬ê³  ë‹¤ë¥¸ íŒŒì¼ì„ ì—´ê¹Œìš”?",confirmDiscardSwitchWs:"ì €ìž¥í•˜ì§€ ì•Šì€ ë³€ê²½ì‚¬í•­ì´ ìžˆìŠµë‹ˆë‹¤. ë²„ë¦¬ê³  ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ë¥¼ ë°”ê¿€ê¹Œìš”?",confirmReloadAll:"ëª¨ë“  ëª¨ë“ˆì„ ë¦¬ë¡œë“œí• ê¹Œìš”? (ì „ì²´ ë¹„í™œì„±í™” í›„ ì»´íŒŒì¼ì´ íì— ë“¤ì–´ê°‘ë‹ˆë‹¤)",confirmDeleteTheme:'í…Œë§ˆ "{id}" ë¥¼ ì‚­ì œí• ê¹Œìš”?',alertSaveBeforeReload:"ë¦¬ë¡œë“œ ì „ì— ë¨¼ì € ì €ìž¥í•´ ì£¼ì„¸ìš”.",promptNewFilePath:`ìƒˆ íŒŒì¼ ê²½ë¡œ (ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ ê¸°ì¤€)
ì˜ˆ: src/new.fs`,promptNewModuleId:`ìƒˆ ëª¨ë“ˆ id (ì˜ë¬¸/ìˆ«ìž/._-)
ì˜ˆ: my_module`,promptModuleDisplayName:"ëª¨ë“ˆ í‘œì‹œ ì´ë¦„",promptModuleVersion:"ëª¨ë“ˆ ë²„ì „",confirmLoadEnable:`load: enable ë¡œ ì„¤ì •í• ê¹Œìš”?

(ì•„ë‹ˆì˜¤: load: disable ë¡œ ìƒì„±ë˜ê³ , ë‚˜ì¤‘ì— ì§ì ‘ ë°”ê¾¸ê¸° ì „ê¹Œì§€ ìž¬ì‹œìž‘ ì‹œ ìžë™ ë¡œë“œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)`,createdModule:"ëª¨ë“ˆ ìƒì„±ë¨: {id}",apiTitle:"Focuscript API (_runtime/focuscript-api.jar)",apiSearchPlaceholder:"í´ëž˜ìŠ¤ ê²€ìƒ‰â€¦",close:"ë‹«ê¸°",loadingApiIndex:"API ì¸ë±ìŠ¤ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦",selectClassToView:"í´ëž˜ìŠ¤ë¥¼ ì„ íƒí•˜ë©´ ë©¤ë²„ê°€ í‘œì‹œë©ë‹ˆë‹¤.",fields:"í•„ë“œ",methods:"ë©”ì„œë“œ",themeManagerTitle:"í…Œë§ˆ ê´€ë¦¬ìž",builtInThemes:"ê¸°ë³¸",customThemes:"ì‚¬ìš©ìž",createTheme:"ìƒˆ í…Œë§ˆ",edit:"ìˆ˜ì •",delete:"ì‚­ì œ",export:"ë‚´ë³´ë‚´ê¸°",import:"ë¶ˆëŸ¬ì˜¤ê¸°",themeName:"í…Œë§ˆ ì´ë¦„",themeId:"í…Œë§ˆ ID",duplicateFromCurrent:"í˜„ìž¬ í…Œë§ˆ ë³µì œ",cancel:"ì·¨ì†Œ",saveTheme:"ì €ìž¥",apply:"ì ìš©",importError:"í…Œë§ˆ íŒŒì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.",v_bg:"ë°°ê²½",v_panel:"ìƒë‹¨ë°”/íŒ¨ë„",v_panel2:"ì‚¬ì´ë“œë°”/í‘œë©´",v_border:"í…Œë‘ë¦¬",v_text:"ê¸€ìž",v_muted:"íë¦° ê¸€ìž",v_accent:"ê°•ì¡°ìƒ‰",v_danger:"ê²½ê³ ìƒ‰",v_input:"ìž…ë ¥ ë°°ê²½",v_editorBg:"ì—ë””í„° ë°°ê²½",v_sel:"ì„ íƒ ì˜ì—­",v_tok_kw:"í‚¤ì›Œë“œ",v_tok_type:"íƒ€ìž…",v_tok_num:"ìˆ«ìž",v_tok_str:"ë¬¸ìžì—´",v_tok_com:"ì£¼ì„",v_tok_ann:"ì–´ë…¸í…Œì´ì…˜",v_tok_key:"YAML í‚¤",v_tok_op:"ê¸°í˜¸"}};function st(t,a,r={}){let s=(ba[t]??ba.ko)[a]??ba.en[a]??String(a);for(const[o,u]of Object.entries(r))s=s.replaceAll(`{${o}}`,String(u));return s}const Sr="focuscript_webide_customThemes_v1",Er="focuscript_webide_activeTheme_v1",$a=[{key:"--bg",labelKey:"v_bg",fallback:"#0f1115"},{key:"--panel",labelKey:"v_panel",fallback:"#161a22"},{key:"--panel2",labelKey:"v_panel2",fallback:"rgba(255,255,255,.02)"},{key:"--border",labelKey:"v_border",fallback:"#2a3040"},{key:"--text",labelKey:"v_text",fallback:"#e6e6e6"},{key:"--muted",labelKey:"v_muted",fallback:"#a0a7b8"},{key:"--accent",labelKey:"v_accent",fallback:"#7aa2f7"},{key:"--danger",labelKey:"v_danger",fallback:"#ff5f5f"},{key:"--input",labelKey:"v_input",fallback:"#0c0f14"},{key:"--editorBg",labelKey:"v_editorBg",fallback:"transparent"},{key:"--selection",labelKey:"v_sel",fallback:"rgba(122,162,247,.25)"},{key:"--tok-kw",labelKey:"v_tok_kw",fallback:"#7aa2f7"},{key:"--tok-type",labelKey:"v_tok_type",fallback:"#9ece6a"},{key:"--tok-num",labelKey:"v_tok_num",fallback:"#e0af68"},{key:"--tok-str",labelKey:"v_tok_str",fallback:"#bb9af7"},{key:"--tok-com",labelKey:"v_tok_com",fallback:"#565f89"},{key:"--tok-ann",labelKey:"v_tok_ann",fallback:"#7dcfff"},{key:"--tok-key",labelKey:"v_tok_key",fallback:"#7dcfff"},{key:"--tok-op",labelKey:"v_tok_op",fallback:"#a0a7b8"}],kt=[{id:"midnight",name:"Midnight",vars:{"--bg":"#0f1115","--panel":"#161a22","--panel2":"rgba(255,255,255,.02)","--border":"#2a3040","--text":"#e6e6e6","--muted":"#a0a7b8","--accent":"#7aa2f7","--danger":"#ff5f5f","--input":"#0c0f14","--editorBg":"transparent","--selection":"rgba(122,162,247,.25)","--tok-kw":"#7aa2f7","--tok-type":"#9ece6a","--tok-num":"#e0af68","--tok-str":"#bb9af7","--tok-com":"#565f89","--tok-ann":"#7dcfff","--tok-key":"#7dcfff","--tok-op":"#a0a7b8"}},{id:"snow",name:"Snow",vars:{"--bg":"#f7f8fb","--panel":"#ffffff","--panel2":"#ffffff","--border":"rgba(20, 25, 36, .12)","--text":"#161a22","--muted":"#55607a","--accent":"#3b82f6","--danger":"#dc2626","--input":"#f1f3f8","--editorBg":"transparent","--selection":"rgba(59,130,246,.18)","--tok-kw":"#2563eb","--tok-type":"#16a34a","--tok-num":"#b45309","--tok-str":"#7c3aed","--tok-com":"#94a3b8","--tok-ann":"#0891b2","--tok-key":"#0891b2","--tok-op":"#64748b"}},{id:"forest",name:"Forest",vars:{"--bg":"#0b1411","--panel":"#101f1a","--panel2":"rgba(255,255,255,.02)","--border":"#1f3a2f","--text":"#e7f2ee","--muted":"#93b2a7","--accent":"#34d399","--danger":"#fb7185","--input":"#0a100e","--editorBg":"transparent","--selection":"rgba(52,211,153,.18)","--tok-kw":"#34d399","--tok-type":"#a7f3d0","--tok-num":"#fbbf24","--tok-str":"#c4b5fd","--tok-com":"#5c7a6f","--tok-ann":"#60a5fa","--tok-key":"#60a5fa","--tok-op":"#93b2a7"}}];function Ar(t){try{return t?JSON.parse(t):null}catch{return null}}function Ra(t){if(!t||typeof t!="object")return null;const a=String(t.id??"").trim(),r=String(t.name??"").trim(),i=t.vars&&typeof t.vars=="object"?t.vars:null;if(!a||!r||!i)return null;const s={};for(const o of $a){const u=i[o.key];typeof u=="string"&&u.trim()&&(s[o.key]=u.trim())}for(const[o,u]of Object.entries(i))typeof u=="string"&&u.trim()&&!(o in s)&&(s[o]=u.trim());return{id:a,name:r,vars:s}}function Yn(){if(typeof localStorage>"u")return[];const t=Ar(localStorage.getItem(Sr))??[],a=[];for(const r of t){const i=Ra(r);i&&(kt.some(s=>s.id===i.id)||a.some(s=>s.id===i.id)||a.push(i))}return a}function Gn(){return typeof localStorage>"u"?"midnight":String(localStorage.getItem(Er)??"").trim()||"midnight"}const St=Ct(Yn()),Ue=Ct(Gn());St.subscribe(t=>{try{localStorage.setItem(Sr,JSON.stringify(t))}catch{}});Ue.subscribe(t=>{try{localStorage.setItem(Er,t)}catch{}});const Ua=or(St,t=>[...kt,...t]),Ba=or([Ua,Ue],([t,a])=>t.find(r=>r.id===a)??t[0]);function Ir(t){if(typeof document>"u")return;const a=t??Ta(Ba),r=document.documentElement,i={...a.vars};for(const s of $a)i[s.key]||(i[s.key]=s.fallback);for(const[s,o]of Object.entries(i))r.style.setProperty(s,o)}Ba.subscribe(t=>Ir(t));function Zn(t,a){return{id:a.id.trim(),name:a.name.trim(),vars:{...t.vars}}}function sr(t){const a=Ra(t);if(!a)throw new Error("Invalid theme");if(kt.some(r=>r.id===a.id))throw new Error("Theme id is reserved");St.update(r=>{const i=r.findIndex(o=>o.id===a.id);if(i===-1)return[...r,a];const s=[...r];return s[i]=a,s})}function Xn(t){St.update(a=>a.filter(r=>r.id!==t)),Ta(Ue)===t&&Ue.set("midnight")}function Qn(t){return JSON.stringify(t,null,2)}function ei(t){const a=Ar(t),r=Ra(a);if(!r)throw new Error("Invalid theme");return r}async function ti(t){return await wt("/status",t)}async function ai(t){return await wt("/workspaces",t)}async function ri(t,a){return await wt("/files",t,{ws:a})}async function ni(t,a,r){return await Pn("/file",t,{ws:a,path:r})}async function ii(t,a,r,i){return await Tt("/file",t,{ws:a,path:r},i)}async function si(t,a,r){return await Tt("/newFile",t,{ws:a,path:r},"")}async function oi(t,a){return await Tt("/newWorkspace",t,a,"")}async function li(t,a){return await Tt("/reload",t,{ws:a},"")}async function ci(t){return await Tt("/reloadAll",t,{},"")}async function di(t,a){return await wt("/job",t,{id:a})}async function ui(t){return await wt("/apiIndex",t)}var fi=ve('<div role="button" tabindex="0"> <span class="muted"> </span></div>'),vi=ve('<div id="modalBackdrop"><div id="modal" role="dialog" aria-modal="true"><div id="modalHeader"><strong> </strong> <span class="spacer"></span> <input id="apiSearch"/> <button id="modalClose"> </button></div> <div id="modalBody"><div id="apiList"></div> <div id="apiDetail" class="muted"> </div></div></div></div>');function pi(t,a){Ea(a,!1);const r=()=>$e(gt,"$uiLang",i),[i,s]=La(),o=U(),u=U();let f=ka(a,"open",8,!1),n=ka(a,"token",8,"");const k=lr();let y=U(""),T=U(null),A=U(null),L=U(!1),Z="",v=U(($,R={})=>st("ko",$,R));async function p(){if(f()&&n()&&!(e(T)&&Z===n())){m(L,!0),Z=n();try{m(T,await ui(n()))}finally{m(L,!1)}}}function M(){k("close")}function ie($){$.target===$.currentTarget&&M()}He(()=>r(),()=>{m(v,($,R={})=>st(r(),$,R))}),He(()=>hr(f()),()=>{f()&&(m(A,null),m(y,""),p())}),He(()=>(e(T),e(y)),()=>{m(o,(e(T)??[]).filter($=>{const R=(e(y)||"").trim().toLowerCase();return R?($.name||"").toLowerCase().includes(R):!0}))}),He(()=>(e(L),e(v),e(A)),()=>{m(u,(()=>{if(e(L))return e(v)("loadingApiIndex");if(!e(A))return e(v)("selectClassToView");const $=e(A),R=[];if(R.push($.name),R.push(""),$.fields&&$.fields.length){R.push(e(v)("fields"));for(const H of $.fields)R.push("  "+H);R.push("")}if($.methods&&$.methods.length){R.push(e(v)("methods"));for(const H of $.methods)R.push("  "+H)}return R.join(`
`)})())}),Aa(),Ma();var D=vi();let W;var J=d(D),X=d(J),C=d(X),de=d(C,!0);l(C);var Q=g(C,4);Ze(Q);var N=g(Q,2),F=d(N,!0);l(N),l(X);var re=g(X,2),ge=d(re);Qe(ge,5,()=>e(o),Xe,($,R)=>{var H=fi(),_e=d(H),ke=g(_e),ye=d(ke);l(ke),l(H),ae(()=>{ht(H,1,(e(A),e(R),_(()=>"apiItem"+(e(A)&&e(A).name===e(R).name?" active":"")))),S(_e,`${e(R),_(()=>e(R).name)??""} `),S(ye,`(${e(R),_(()=>e(R).kind)??""})`)}),x("click",H,()=>m(A,e(R))),fe($,H)}),l(ge);var Ee=g(ge,2),b=d(Ee,!0);l(Ee),l(re),l(J),l(D),ae(($,R,H,_e)=>{W=_t(D,"",W,{display:f()?"flex":"none"}),Re(J,"aria-label",$),S(de,R),Re(Q,"placeholder",H),S(F,_e),S(b,e(u))},[()=>(e(v),_(()=>e(v)("apiTitle"))),()=>(e(v),_(()=>e(v)("apiTitle"))),()=>(e(v),_(()=>e(v)("apiSearchPlaceholder"))),()=>(e(v),_(()=>e(v)("close")))]),it(Q,()=>e(y),$=>m(y,$)),x("click",N,M),x("click",D,ie),fe(t,D),Ia(),s()}function mi(t,a,r="application/json"){if(typeof document>"u")return;const i=new Blob([a],{type:r}),s=URL.createObjectURL(i),o=document.createElement("a");o.href=s,o.download=t,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(s)}var _i=ve('<div class="themeRow svelte-1cdrpye"><div class="themeName svelte-1cdrpye"><span class="dot svelte-1cdrpye"></span> <div><div> </div> <div class="muted tiny svelte-1cdrpye"> </div></div></div> <div class="rowActions svelte-1cdrpye"><button> </button> <button class="btn svelte-1cdrpye"> </button></div></div>'),bi=ve('<div class="muted" style="padding:10px 4px;">â€”</div>'),hi=ve('<div class="themeRow svelte-1cdrpye"><div class="themeName svelte-1cdrpye"><span class="dot svelte-1cdrpye"></span> <div><div> </div> <div class="muted tiny svelte-1cdrpye"> </div></div></div> <div class="rowActions svelte-1cdrpye"><button> </button> <button class="btn svelte-1cdrpye"> </button> <button class="btn svelte-1cdrpye"> </button> <button class="btn danger svelte-1cdrpye"> </button></div></div>'),gi=ve('<div class="error svelte-1cdrpye"> </div>'),ki=ve('<div class="varRow svelte-1cdrpye"><div class="varLabel svelte-1cdrpye"> </div> <div class="varInputs svelte-1cdrpye"><input class="color svelte-1cdrpye" type="color"/> <input class="input mono svelte-1cdrpye"/></div></div>'),yi=ve('<div class="editorHeader svelte-1cdrpye"><strong> </strong> <span class="spacer svelte-1cdrpye"></span> <button class="btn svelte-1cdrpye"> </button> <button class="btn primary svelte-1cdrpye"> </button></div> <!> <div class="form svelte-1cdrpye"><label class="svelte-1cdrpye"><div class="label svelte-1cdrpye"> </div> <input class="input svelte-1cdrpye"/></label> <label class="svelte-1cdrpye"><div class="label svelte-1cdrpye"> </div> <input class="input svelte-1cdrpye"/></label></div> <div class="vars svelte-1cdrpye"></div>',1),wi=ve('<div class="muted" style="padding:12px; line-height: 1.6;"><div><strong> </strong></div> <div style="margin-top:6px;"> </div> <div style="margin-top:10px;"> </div></div>'),Ti=ve('<div id="themeBackdrop" class="modalBackdrop svelte-1cdrpye"><div id="themeModal" class="modal svelte-1cdrpye" role="dialog" aria-modal="true"><div class="modalHeader svelte-1cdrpye"><strong> </strong> <span class="spacer svelte-1cdrpye"></span> <button class="btn svelte-1cdrpye"> </button> <button class="btn svelte-1cdrpye"> </button> <input type="file" accept="application/json,.json" style="display:none"/> <button class="btn svelte-1cdrpye"> </button></div> <div class="modalBody themeBody svelte-1cdrpye"><div class="themeList svelte-1cdrpye"><div class="groupTitle svelte-1cdrpye"> </div> <!> <div class="groupTitle svelte-1cdrpye" style="margin-top:14px;"> </div> <!> <!></div> <div class="themeEditor svelte-1cdrpye"><!></div></div></div></div>');function Si(t,a){Ea(a,!1);const r=()=>$e(gt,"$uiLang",f),i=()=>$e(Ba,"$activeTheme",f),s=()=>$e(St,"$customThemes",f),o=()=>$e(Ua,"$themes",f),u=()=>$e(Ue,"$activeThemeId",f),[f,n]=La();let k=ka(a,"open",8,!1);const y=lr();let T=U(null),A=U(!1),L=U(""),Z=U(null),v=U((I,w={})=>st("ko",I,w));function p(){m(T,null),m(A,!1),m(L,""),y("close")}function M(I=!0){m(L,"");const w=I?i():kt[0],B=`custom_${Math.random().toString(36).slice(2,8)}`,O=Zn(w,{id:B,name:"My Theme"});m(T,{id:O.id,name:O.name,vars:{...O.vars}}),m(A,!1)}function ie(I){m(L,"");const w=s().find(B=>B.id===I);w&&(m(T,{id:w.id,name:w.name,vars:{...w.vars}}),m(A,!0))}function D(I){Ue.set(I);const w=o().find(B=>B.id===I);w&&Ir(w)}function W(I){confirm(e(v)("confirmDeleteTheme",{id:I}))&&Xn(I)}function J(){if(e(T)){m(L,"");try{sr({id:e(T).id.trim(),name:e(T).name.trim(),vars:{...e(T).vars}}),Ue.set(e(T).id.trim()),m(T,null),m(A,!1)}catch(I){m(L,I?.message??e(v)("importError"))}}}function X(I){const w=o().find(B=>B.id===I);w&&mi(`${w.id}.theme.json`,Qn(w))}async function C(I){const w=I.currentTarget,B=w.files?.[0];if(B)try{const O=await B.text(),ee=ei(O);sr(ee),Ue.set(ee.id),m(L,"")}catch{m(L,e(v)("importError"))}finally{w.value=""}}function de(I){const w=(I||"").trim();return/^#[0-9a-fA-F]{6}$/.test(w)?w:/^#[0-9a-fA-F]{3}$/.test(w)?"#"+w.slice(1).split("").map(B=>B+B).join(""):"#000000"}function Q(I){I.target===I.currentTarget&&p()}He(()=>r(),()=>{m(v,(I,w={})=>st(r(),I,w))}),He(()=>hr(k()),()=>{k()||(m(T,null),m(A,!1),m(L,""))}),Aa(),Ma();var N=Ti();let F;var re=d(N),ge=d(re),Ee=d(ge),b=d(Ee,!0);l(Ee);var $=g(Ee,4),R=d($,!0);l($);var H=g($,2),_e=d(H,!0);l(H);var ke=g(H,2);ya(ke,I=>m(Z,I),()=>e(Z));var ye=g(ke,2),ot=d(ye,!0);l(ye),l(ge);var Et=g(ge,2),lt=d(Et),ct=d(lt),Ft=d(ct,!0);l(ct);var Ve=g(ct,2);Qe(Ve,1,()=>kt,Xe,(I,w)=>{var B=_i(),O=d(B),ee=d(O);let V;var se=g(ee,2),Y=d(se),Ce=d(Y,!0);l(Y);var ue=g(Y,2),Ne=d(ue,!0);l(ue),l(se),l(O);var oe=g(O,2),z=d(oe);let te;var be=d(z,!0);l(z);var ne=g(z,2),we=d(ne,!0);l(ne),l(oe),l(B),ae((he,Ie)=>{V=_t(ee,"",V,{background:(e(w),_(()=>e(w).vars["--accent"]))}),S(Ce,(e(w),_(()=>e(w).name))),S(Ne,(e(w),_(()=>e(w).id))),te=ht(z,1,"btn svelte-1cdrpye",null,te,{primary:u()===e(w).id}),S(be,he),S(we,Ie)},[()=>(e(v),_(()=>e(v)("apply"))),()=>(e(v),_(()=>e(v)("export")))]),x("click",z,()=>D(e(w).id)),x("click",ne,()=>X(e(w).id)),fe(I,B)});var Be=g(Ve,2),Ae=d(Be,!0);l(Be);var et=g(Be,2);{var At=I=>{var w=bi();fe(I,w)};fa(et,I=>{s(),_(()=>s().length===0)&&I(At)})}var Dt=g(et,2);Qe(Dt,1,s,Xe,(I,w)=>{var B=hi(),O=d(B),ee=d(O);let V;var se=g(ee,2),Y=d(se),Ce=d(Y,!0);l(Y);var ue=g(Y,2),Ne=d(ue,!0);l(ue),l(se),l(O);var oe=g(O,2),z=d(oe);let te;var be=d(z,!0);l(z);var ne=g(z,2),we=d(ne,!0);l(ne);var he=g(ne,2),Ie=d(he,!0);l(he);var qe=g(he,2),Fe=d(qe,!0);l(qe),l(oe),l(B),ae((le,K,Te,pe)=>{V=_t(ee,"",V,{background:(e(w),_(()=>e(w).vars["--accent"]))}),S(Ce,(e(w),_(()=>e(w).name))),S(Ne,(e(w),_(()=>e(w).id))),te=ht(z,1,"btn svelte-1cdrpye",null,te,{primary:u()===e(w).id}),S(be,le),S(we,K),S(Ie,Te),S(Fe,pe)},[()=>(e(v),_(()=>e(v)("apply"))),()=>(e(v),_(()=>e(v)("edit"))),()=>(e(v),_(()=>e(v)("export"))),()=>(e(v),_(()=>e(v)("delete")))]),x("click",z,()=>D(e(w).id)),x("click",ne,()=>ie(e(w).id)),x("click",he,()=>X(e(w).id)),x("click",qe,()=>W(e(w).id)),fe(I,B)}),l(lt);var It=g(lt,2),Lt=d(It);{var Ot=I=>{var w=yi(),B=gr(w),O=d(B),ee=d(O,!0);l(O);var V=g(O,4),se=d(V,!0);l(V);var Y=g(V,2),Ce=d(Y,!0);l(Y),l(B);var ue=g(B,2);{var Ne=le=>{var K=gi(),Te=d(K,!0);l(K),ae(()=>S(Te,e(L))),fe(le,K)};fa(ue,le=>{e(L)&&le(Ne)})}var oe=g(ue,2),z=d(oe),te=d(z),be=d(te,!0);l(te);var ne=g(te,2);Ze(ne),l(z);var we=g(z,2),he=d(we),Ie=d(he,!0);l(he);var qe=g(he,2);Ze(qe),l(we),l(oe);var Fe=g(oe,2);Qe(Fe,5,()=>$a,Xe,(le,K)=>{var Te=ki(),pe=d(Te),ze=d(pe,!0);l(pe);var Mt=g(pe,2),Le=d(Mt);Ze(Le);var Ge=g(Le,2);Ze(Ge),l(Mt),l(Te),ae((Je,De)=>{S(ze,Je),rr(Le,De),rr(Ge,(e(T),e(K),_(()=>e(T).vars[e(K).key]??e(K).fallback)))},[()=>(e(v),e(K),_(()=>e(v)(e(K).labelKey))),()=>(e(T),e(K),_(()=>de(e(T).vars[e(K).key]??e(K).fallback)))]),x("input",Le,Je=>{const De=Je.currentTarget.value;m(T,{...e(T),vars:{...e(T).vars,[e(K).key]:De}})}),x("input",Ge,Je=>{const De=Je.currentTarget.value;m(T,{...e(T),vars:{...e(T).vars,[e(K).key]:De}})}),fe(le,Te)}),l(Fe),ae((le,K,Te,pe,ze)=>{S(ee,le),S(se,K),S(Ce,Te),S(be,pe),ne.disabled=e(A),S(Ie,ze)},[()=>(e(A),e(v),_(()=>e(A)?e(v)("edit"):e(v)("createTheme"))),()=>(e(v),_(()=>e(v)("cancel"))),()=>(e(v),_(()=>e(v)("saveTheme"))),()=>(e(v),_(()=>e(v)("themeId"))),()=>(e(v),_(()=>e(v)("themeName")))]),x("click",V,()=>m(T,null)),x("click",Y,J),it(ne,()=>e(T).id,le=>nt(T,e(T).id=le)),it(qe,()=>e(T).name,le=>nt(T,e(T).name=le)),fe(I,w)},Pt=I=>{var w=wi(),B=d(w),O=d(B),ee=d(O,!0);l(O),l(B);var V=g(B,2),se=d(V);l(V);var Y=g(V,2),Ce=d(Y);l(Y),l(w),ae((ue,Ne,oe,z,te,be,ne)=>{S(ee,ue),S(se,`${Ne??""}: ${oe??""}`),S(Ce,`${z??""} â†’ ${te??""} â†’ ${be??""} / ${ne??""}`)},[()=>(e(v),_(()=>e(v)("theme"))),()=>(e(v),_(()=>e(v)("duplicateFromCurrent"))),()=>(i(),_(()=>(i()?.name??"").toString())),()=>(e(v),_(()=>e(v)("createTheme"))),()=>(e(v),_(()=>e(v)("edit"))),()=>(e(v),_(()=>e(v)("export"))),()=>(e(v),_(()=>e(v)("import")))]),fe(I,w)};fa(Lt,I=>{e(T)?I(Ot):I(Pt,!1)})}l(It),l(Et),l(re),l(N),ae((I,w,B,O,ee,V,se)=>{F=_t(N,"",F,{display:k()?"flex":"none"}),Re(re,"aria-label",I),S(b,w),S(R,B),S(_e,O),S(ot,ee),S(Ft,V),S(Ae,se)},[()=>(e(v),_(()=>e(v)("themeManagerTitle"))),()=>(e(v),_(()=>e(v)("themeManagerTitle"))),()=>(e(v),_(()=>e(v)("createTheme"))),()=>(e(v),_(()=>e(v)("import"))),()=>(e(v),_(()=>e(v)("close"))),()=>(e(v),_(()=>e(v)("builtInThemes"))),()=>(e(v),_(()=>e(v)("customThemes")))]),x("click",$,()=>M(!0)),x("click",H,()=>e(Z)?.click()),x("change",ke,C),x("click",ye,p),x("click",N,Q),fe(t,N),Ia(),n()}var Ei=ve("<option> </option>"),Ai=ve("<option> </option>"),Ii=ve('<div role="button" tabindex="0"><span aria-hidden="true">ðŸ“„</span> <span> </span></div>'),Li=ve('<header class="svelte-1uha8ag"><button class="iconBtn svelte-1uha8ag">â˜°</button> <strong> </strong> <span id="status" class="svelte-1uha8ag"> </span> <span class="spacer"></span> <label class="muted" for="workspaceSelect"> </label> <select id="workspaceSelect"></select> <button id="newWorkspaceBtn"> </button> <button id="refreshBtn"> </button> <button id="apiBtn"> </button> <button id="reloadBtn" class="primary"> </button> <button id="reloadAllBtn" class="danger"> </button> <select></select> <button> </button> <select><option>í•œêµ­ì–´</option><option>English</option></select> <button id="saveBtn" class="primary"> </button></header> <main><aside id="sidebar"><div id="baseUrlPanel" class="svelte-1uha8ag"><label class="muted" for="baseUrlInput"> </label> <div class="baseUrlRow svelte-1uha8ag"><input id="baseUrlInput" class="baseUrlInput svelte-1uha8ag"/> <button id="setBaseUrlBtn"> </button></div></div> <div id="sidebarTop"><div><strong> </strong></div> <button id="newFileBtn"> </button></div> <div class="sidebarSearch"><input/></div> <div id="fileList"></div> <div id="tips"><div><strong> </strong></div> <ul><li> </li> <li> </li> <li><!></li> <li> </li></ul></div></aside> <section id="editor"><div id="editorTop"><span id="currentFile"> </span> <span id="dirty"> </span> <span id="job"> </span></div> <div id="editorWrap"><pre id="highlight"><code id="hlCode"><!></code></pre> <textarea id="text" spellcheck="false"></textarea></div></section></main> <!> <!>',1);function Ni(t,a){Ea(a,!1);const r=()=>$e(gt,"$uiLang",u),i=()=>$e(Nt,"$baseUrl",u),s=()=>$e(Ue,"$activeThemeId",u),o=()=>$e(Ua,"$themes",u),[u,f]=La(),n=U(),k=U();let y=U(""),T=U(Nn()),A=U(null),L=U(null),Z=U(""),v=U([]),p=U(null),M=null,ie=U([]),D=U(null),W=U(!1),J=U(""),X=U(!0),C=U(""),de=U(""),Q=!1,N=U(!1),F=U(null),re=U(null),ge=U(!1),Ee=U(!1),b=U((c,h={})=>st("ko",c,h));function $(c){m(Z,c||"")}function R(c){m(W,!!c)}function H(){!e(F)||!e(re)||(nt(re,e(re).scrollTop=e(F).scrollTop),nt(re,e(re).scrollLeft=e(F).scrollLeft))}function _e(){const c=Kn(e(D)||"");m(de,zn(e(C)||"",c)),H()}function ke(){Q||(Q=!0,requestAnimationFrame(()=>{Q=!1,_e()}))}function ye(c,h,E){m(C,c),R(!0),ke(),requestAnimationFrame(()=>{e(F)&&(nt(F,e(F).selectionStart=h),nt(F,e(F).selectionEnd=E),e(F).focus(),H())})}function ot(c,h){return c.lastIndexOf(`
`,h-1)+1}function Et(c){if(!e(F))return;const h=e(C),E=e(F).selectionStart,P=e(F).selectionEnd;if(h.slice(E,P).includes(`
`)){const q=ot(h,E),me=h.indexOf(`
`,P),Me=me===-1?h.length:me,xe=h.slice(q,Me).split(`
`);if(!c){const Ke=xe.map(oa=>`	${oa}`).join(`
`),at=h.slice(0,q)+Ke+h.slice(Me);ye(at,E+1,P+xe.length);return}let ut=0,ft=0;const ra=xe.map((Ke,at)=>Ke.startsWith("	")?(ut+=1,at===0&&(ft=1),Ke.slice(1)):Ke.startsWith("  ")?(ut+=2,at===0&&(ft=2),Ke.slice(2)):Ke),na=h.slice(0,q)+ra.join(`
`)+h.slice(Me),ia=E-(E>q?ft:0),sa=P-ut;ye(na,ia,sa);return}if(c){const q=ot(h,E);let me=0;if(h.startsWith("	",q)?me=1:h.startsWith("  ",q)&&(me=2),me>0){const Me=h.slice(0,q)+h.slice(q+me),tt=Math.max(E-me,q),xe=Math.max(P-me,q);ye(Me,tt,xe)}return}const Se=h.slice(0,E)+"	"+h.slice(P),Pe=E+1;ye(Se,Pe,Pe)}function lt(){if(!e(F))return;const c=e(C),h=e(F).selectionStart,E=e(F).selectionEnd,P=ot(c,h),G=c.slice(P,h),Se=G.match(/^[\t ]*/),Pe=Se?Se[0]:"",q=G.trimEnd(),me=q.endsWith("{")||q.endsWith("(")||q.endsWith("["),Me=`
${Pe}${me?"	":""}`,tt=c.slice(0,h)+Me+c.slice(E),xe=h+Me.length;ye(tt,xe,xe)}function ct(c){if(!e(N)&&!(c.metaKey||c.ctrlKey||c.altKey)){if(c.key==="Tab"){c.preventDefault(),Et(c.shiftKey);return}c.key==="Enter"&&(c.preventDefault(),lt())}}function Ft(c){const h=new Set(["script.yml"]);return[...c].sort((E,P)=>{const G=h.has(E)?-1:0,Se=h.has(P)?-1:0;if(G!==Se)return G-Se;const Pe=E.startsWith("src/")?-1:0,q=P.startsWith("src/")?-1:0;return Pe!==q?Pe-q:E.localeCompare(P)})}async function Ve(){if(!e(y)){m(L,"missingToken"),m(A,null);return}m(A,await ti(e(y))),m(L,null)}async function Be(){const c=await ai(e(y));m(v,c);const h=new Set(c.map(E=>E.id));(!e(p)||!h.has(e(p)))&&m(p,c[0]?.id??null),M=e(p)}async function Ae(){if(!e(p))return;const c=await ri(e(y),e(p));m(ie,Ft(c))}async function et(c){if(!e(p)||e(W)&&!confirm(e(b)("confirmDiscardOpen")))return;m(D,c),R(!1);const h=await ni(e(y),e(p),c);m(C,h),_e(),await Ae()}async function At(){!e(p)||!e(D)||(await ii(e(y),e(p),e(D),e(C)),R(!1),$(e(b)("saved")),setTimeout(()=>$(""),1200))}async function Dt(){if(!e(p))return;const c=prompt(e(b)("promptNewFilePath"));c&&(await si(e(y),e(p),c),await Ae(),await et(c))}async function It(){const c=(prompt(e(b)("promptNewModuleId"),"my_module")||"").trim();if(!c)return;const h=(prompt(e(b)("promptModuleDisplayName"),c)||c).trim(),E=(prompt(e(b)("promptModuleVersion"),"1.0.0")||"1.0.0").trim(),G=confirm(e(b)("confirmLoadEnable"))?"enable":"disable",Se=await oi(e(y),{id:c,name:h,version:E,load:G});$(e(b)("createdModule",{id:Se.id})),await Ve(),await Be(),m(p,c),M=c,m(D,null),m(C,""),_e(),R(!1),await Ae(),await et("script.yml")}async function Lt(c){$(`Job ${c}: running...`);let h=null;for(;;){const E=await di(e(y),c);if(h=E,$(`Job ${c}: ${E.status} â€¢ ${E.message}`),E.status==="success"||E.status==="error")break;await new Promise(P=>setTimeout(P,900))}h?.status==="error"&&alert(h.message||"Job failed"),await Ve(),await Be(),await Ae()}async function Ot(){if(!e(p))return;if(e(W)){alert(e(b)("alertSaveBeforeReload"));return}const c=await li(e(y),e(p));await Lt(c.jobId)}async function Pt(){if(!confirm(e(b)("confirmReloadAll")))return;const c=await ci(e(y));await Lt(c.jobId)}async function I(){if(e(p)){if(e(W)&&!confirm(e(b)("confirmDiscardSwitchWs"))){m(p,M);return}M=e(p),m(D,null),m(C,""),_e(),R(!1),await Ae()}}async function w(c){try{await Ve(),await Be(),await Ae()}catch(h){console.error(h),m(L,e(y)?"failedToConnect":"missingToken")}$(c),setTimeout(()=>$(""),2200)}async function B(){const c=yt(e(T));ir(c),m(T,c),await w(e(b)("baseUrlUpdated",{url:c}))}function O(c){(c.ctrlKey||c.metaKey)&&c.key.toLowerCase()==="s"&&(c.preventDefault(),At())}zr(async()=>{const c=new URL(window.location.href);m(y,c.searchParams.get("token")||"");const h=(c.searchParams.get("base")||"").trim();h&&ir(h),m(T,i()),window.addEventListener("keydown",O);try{await Ve(),await Be(),await Ae(),$("")}catch(E){console.error(E),m(L,e(y)?"failedToConnect":"missingToken")}_e()}),Jr(()=>{window.removeEventListener("keydown",O)}),He(()=>r(),()=>{m(b,(c,h={})=>st(r(),c,h))}),He(()=>(e(L),e(b),e(A)),()=>{m(n,e(L)==="missingToken"?e(b)("missingToken"):e(L)==="failedToConnect"?e(b)("failedToConnect"):e(A)?e(b)("statusRunning",{version:e(A).pluginVersion,loaded:e(A).loadedModules,bind:e(A).bind,port:e(A).port}):e(b)("connecting"))}),He(()=>(e(J),e(ie)),()=>{m(k,(()=>{const c=(e(J)||"").trim().toLowerCase();return c?e(ie).filter(h=>h.toLowerCase().includes(c)):e(ie)})())}),Aa(),Ma();var ee=Li(),V=gr(ee),se=d(V),Y=g(se,2),Ce=d(Y,!0);l(Y);var ue=g(Y,2),Ne=d(ue,!0);l(ue);var oe=g(ue,4),z=d(oe,!0);l(oe);var te=g(oe,2);ae(()=>{e(p),ua(()=>{e(v)})}),Qe(te,5,()=>e(v),Xe,(c,h)=>{var E=Ei(),P=d(E);l(E);var G={};ae(()=>{S(P,`${e(h),_(()=>e(h).id)??""}${e(h),_(()=>e(h).loaded?" (loaded)":"")??""}`),G!==(G=(e(h),_(()=>e(h).id)))&&(E.value=(E.__value=(e(h),_(()=>e(h).id)))??"")}),fe(c,E)}),l(te);var be=g(te,2),ne=d(be,!0);l(be);var we=g(be,2),he=d(we,!0);l(we);var Ie=g(we,2),qe=d(Ie,!0);l(Ie);var Fe=g(Ie,2),le=d(Fe,!0);l(Fe);var K=g(Fe,2),Te=d(K,!0);l(K);var pe=g(K,2);ae(()=>{s(),ua(()=>{e(b),o()})}),Qe(pe,5,o,Xe,(c,h)=>{var E=Ai(),P=d(E,!0);l(E);var G={};ae(()=>{S(P,(e(h),_(()=>e(h).name))),G!==(G=(e(h),_(()=>e(h).id)))&&(E.value=(E.__value=(e(h),_(()=>e(h).id)))??"")}),fe(c,E)}),l(pe);var ze=g(pe,2),Mt=d(ze,!0);l(ze);var Le=g(ze,2);ae(()=>{r(),ua(()=>{e(b)})});var Ge=d(Le);Ge.value=Ge.__value="ko";var Je=g(Ge);Je.value=Je.__value="en",l(Le);var De=g(Le,2),Lr=d(De,!0);l(De),l(V);var Kt=g(V,2),xt=d(Kt);let Ca;var Wt=d(xt),jt=d(Wt),Mr=d(jt,!0);l(jt);var Na=g(jt,2),dt=d(Na);Ze(dt);var Ht=g(dt,2),xr=d(Ht,!0);l(Ht),l(Na),l(Wt);var Vt=g(Wt,2),qt=d(Vt),Fa=d(qt),$r=d(Fa,!0);l(Fa),l(qt);var zt=g(qt,2),Rr=d(zt,!0);l(zt),l(Vt);var Jt=g(Vt,2),Yt=d(Jt);Ze(Yt),l(Jt);var Gt=g(Jt,2);Qe(Gt,5,()=>e(k),Xe,(c,h)=>{var E=Ii(),P=g(d(E),2),G=d(P,!0);l(P),l(E),ae(()=>{ht(E,1,"file"+(e(h)===e(D)?" active":""),"svelte-1uha8ag"),S(G,e(h))}),x("click",E,()=>et(e(h))),fe(c,E)}),l(Gt);var Da=g(Gt,2),Zt=d(Da),Oa=d(Zt),Ur=d(Oa,!0);l(Oa),l(Zt);var Pa=g(Zt,2),Xt=d(Pa),Br=d(Xt,!0);l(Xt);var Qt=g(Xt,2),Cr=d(Qt,!0);l(Qt);var ea=g(Qt,2),Nr=d(ea);er(Nr,()=>(e(b),_(()=>e(b)("note3").replaceAll("Save","<b>Save</b>").replaceAll("ì €ìž¥","<b>ì €ìž¥</b>")))),l(ea);var Ka=g(ea,2),Fr=d(Ka,!0);l(Ka),l(Pa),l(Da),l(xt);var Wa=g(xt,2),ta=d(Wa),aa=d(ta),Dr=d(aa,!0);l(aa);var $t=g(aa,2);let ja;var Or=d($t,!0);l($t);var Ha=g($t,2),Pr=d(Ha,!0);l(Ha),l(ta);var Va=g(ta,2),Rt=d(Va),qa=d(Rt),Kr=d(qa);er(Kr,()=>e(de)),l(qa),l(Rt),ya(Rt,c=>m(re,c),()=>e(re));var Oe=g(Rt,2);Sn(Oe),ya(Oe,c=>m(F,c),()=>e(F)),l(Va),l(Wa),l(Kt);var za=g(Kt,2);pi(za,{get open(){return e(ge)},get token(){return e(y)},$$events:{close:()=>m(ge,!1)}});var Wr=g(za,2);Si(Wr,{get open(){return e(Ee)},$$events:{close:()=>m(Ee,!1)}}),ae((c,h,E,P,G,Se,Pe,q,me,Me,tt,xe,ut,ft,ra,na,ia,sa,Ke,at,oa,jr,Hr,Vr)=>{Re(se,"title",c),S(Ce,h),S(Ne,e(n)),S(z,E),S(ne,P),S(he,G),S(qe,Se),S(le,Pe),S(Te,q),Re(pe,"aria-label",me),S(Mt,Me),Re(Le,"aria-label",tt),S(Lr,xe),Ca=ht(xt,1,"svelte-1uha8ag",null,Ca,{closed:!e(X)}),S(Mr,ut),Re(dt,"placeholder",ft),S(xr,ra),S($r,na),S(Rr,ia),Re(Yt,"placeholder",sa),S(Ur,Ke),S(Br,at),S(Cr,oa),S(Fr,jr),S(Dr,Hr),ja=_t($t,"",ja,{display:e(W)?"inline":"none"}),S(Or,Vr),S(Pr,e(Z))},[()=>(e(b),_(()=>e(b)("sidebarToggle"))),()=>(e(b),_(()=>e(b)("appTitle"))),()=>(e(b),_(()=>e(b)("workspace"))),()=>(e(b),_(()=>e(b)("newModule"))),()=>(e(b),_(()=>e(b)("refresh"))),()=>(e(b),_(()=>e(b)("api"))),()=>(e(b),_(()=>e(b)("reloadModule"))),()=>(e(b),_(()=>e(b)("reloadAll"))),()=>(e(b),_(()=>e(b)("theme"))),()=>(e(b),_(()=>e(b)("manageThemes"))),()=>(e(b),_(()=>e(b)("language"))),()=>(e(b),_(()=>e(b)("save"))),()=>(e(b),_(()=>e(b)("baseUrl"))),()=>(e(b),_(()=>e(b)("baseUrlPlaceholder"))),()=>(e(b),_(()=>e(b)("setBaseUrl"))),()=>(e(b),_(()=>e(b)("files"))),()=>(e(b),_(()=>e(b)("newFile"))),()=>(e(b),_(()=>e(b)("fileSearchPlaceholder"))),()=>(e(b),_(()=>e(b)("notes"))),()=>(e(b),_(()=>e(b)("note1"))),()=>(e(b),_(()=>e(b)("note2"))),()=>(e(b),_(()=>e(b)("note4"))),()=>(e(D),e(p),e(b),_(()=>e(D)?`${e(p)} / ${e(D)}`:e(b)("noFileSelected"))),()=>(e(b),_(()=>e(b)("unsavedDot")))]),x("click",se,()=>m(X,!e(X))),pa(te,()=>e(p),c=>m(p,c)),x("change",te,I),x("click",be,It),x("click",we,async()=>{await Ve(),await Be(),await Ae()}),x("click",Ie,()=>m(ge,!0)),x("click",Fe,Ot),x("click",K,Pt),pa(pe,s,c=>Xa(Ue,c)),x("click",ze,()=>m(Ee,!0)),pa(Le,r,c=>Xa(gt,c)),x("click",De,At),it(dt,()=>e(T),c=>m(T,c)),x("keydown",dt,c=>{c.key==="Enter"&&(c.preventDefault(),B())}),x("click",Ht,B),x("click",zt,Dt),it(Yt,()=>e(J),c=>m(J,c)),it(Oe,()=>e(C),c=>m(C,c)),x("keydown",Oe,ct),x("compositionstart",Oe,()=>{m(N,!0)}),x("compositionupdate",Oe,()=>{e(F)&&(m(C,e(F).value),R(!0)),ke()}),x("compositionend",Oe,()=>{m(N,!1),e(F)&&(m(C,e(F).value),R(!0)),ke()}),x("input",Oe,()=>{R(!0),ke()}),x("scroll",Oe,H),fe(t,ee),Ia(),f()}export{Ni as component};
